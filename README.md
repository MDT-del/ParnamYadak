# ParnamYadak Panel

**پنل مدیریت و API جامع برای کسب‌وکارهای قطعات یدکی و خدمات خودرویی**

---

## ⭐ نقاط قوت و ویژگی‌های کلیدی

- **معماری ماژولار و توسعه‌پذیر:**  
  استفاده از Flask Blueprints برای جداسازی کامل بخش‌ها (سفارشات، محصولات، مشتریان، مالی، ربات تلگرام و ...).

- **امنیت پیشرفته:**  
  - احراز هویت و مدیریت نقش‌ها (Role-Based Access Control)
  - Rate Limiting با Flask-Limiter
  - مدیریت سشن امن و تنظیمات CSRF
  - پشتیبانی از HTTPS و سازگاری کامل با کلودفلر

- **API مستند و استاندارد:**  
  - طراحی RESTful برای تمام مدل‌ها
  - مستندسازی کامل با Swagger/OpenAPI
  - سطوح دسترسی و احراز هویت توکن‌محور (JWT)

- **پشتیبانی از ربات تلگرام:**  
  - ارتباط مستقیم ربات با پنل و API
  - قابلیت مدیریت سفارشات و اعلان‌ها از طریق ربات

- **بهینه‌سازی عملکرد:**  
  - کش Redis برای داده‌های پرتکرار
  - بهینه‌سازی کوئری‌ها و ایندکس‌گذاری دیتابیس
  - مدیریت تصاویر و فایل‌ها با ابزارهای اختصاصی

- **مانیتورینگ و لاگینگ حرفه‌ای:**  
  - لاگ‌گیری سطح WARNING و بالاتر
  - health check endpoint برای مانیتورینگ خودکار
  - پشتیبانی از Sentry برای رهگیری خطاها

- **مستندسازی و توسعه آسان:**  
  - راهنمای کامل نصب، توسعه و استقرار
  - تست‌های واحد و یکپارچه با پوشش بالا
  - ساختار کد تمیز و رعایت استانداردهای PEP8

---

## 🏗️ ساختار پروژه

```
ParnamYadak/
├── app/
│   ├── blueprints/      # ماژول‌های اصلی (auth, orders, products, ... , telegram_bot)
│   ├── models.py        # مدل‌های دیتابیس
│   ├── forms.py         # فرم‌ها و اعتبارسنجی
│   ├── static/          # فایل‌های استاتیک (css, js, images)
│   └── templates/       # قالب‌های Jinja2
├── docs/                # مستندات (API, Deployment, Developer Guide)
├── requirements.txt     # وابستگی‌های پایتون
├── docker-compose.yml   # استقرار سریع با Docker
├── Dockerfile           # ساخت image داکر
└── ...
```

---

## 🚀 راه‌اندازی سریع

### با Docker (پیشنهادی)

1. **تنظیم متغیرهای محیطی:**
   - فایل `env_example` را کپی و مقادیر را تنظیم کنید:
     ```bash
     cp env_example .env
     nano .env
     ```

2. **Build و اجرای سرویس‌ها:**
   ```bash
   docker compose build --no-cache
   docker compose up -d
   ```

3. **دسترسی به پنل:**
   - آدرس: `https://<دامنه-شما>/`
   - health check: `https://<دامنه-شما>/health`

### نصب دستی (بدون Docker)

راهنمای کامل در [docs/deployment.md](docs/deployment.md) موجود است.

---

## 🔒 امنیت و پایداری

- **HTTPS و SSL:**  
  پشتیبانی کامل از گواهینامه SSL و سازگاری با کلودفلر
- **Rate Limiting و Session Management**
- **پشتیبانی از Sentry و لاگ‌گیری حرفه‌ای**
- **Health Check Endpoint**

---

## 📚 مستندات و توسعه

- [مستندات API](docs/api.md)
- [راهنمای استقرار](docs/deployment.md)
- [راهنمای توسعه‌دهندگان](docs/developer_guide.md)

---

## 🧩 قابلیت‌های ماژولار

- مدیریت کاربران و نقش‌ها
- مدیریت سفارشات و محصولات
- گزارش‌های مالی و تراکنش‌ها
- سیستم اعلان و نوتیفیکیشن
- ربات تلگرام متصل به پنل
- پشتیبانی از کش Redis و بهینه‌سازی کوئری‌ها
- مدیریت فایل و تصویر با ابزارهای اختصاصی

---

## 🧪 تست و کیفیت

- تست‌های واحد و یکپارچه با pytest
- پوشش تست بالا
- استانداردهای کدنویسی و کامیت

---

## 💡 توسعه و همکاری

- ساختار کد تمیز و قابل توسعه
- مستندسازی کامل برای توسعه‌دهندگان
- پذیرای Pull Request و Issueهای جدید

---

## 📝 نمونه متغیرهای محیطی

```env
SECRET_KEY=your-super-secret-key
DATABASE_URL=postgresql://user:pass@db:5432/parnamyadak
REDIS_URL=redis://redis:6379/0
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
PANEL_API_BASE_URL=https://panel.parnamyadak.ir
LOG_LEVEL=WARNING
...
```

---

## 📈 نقاط قوت ویژه

- **امنیت و مقیاس‌پذیری بالا**
- **پشتیبانی از DevOps و استقرار سریع**
- **مستندسازی کامل و توسعه‌پذیری عالی**
- **پشتیبانی از ربات تلگرام و API مدرن**
- **بهینه‌سازی عملکرد و کش**
- **مانیتورینگ و health check داخلی**

---

**برای اطلاعات بیشتر به پوشه docs/ مراجعه کنید.  
هرگونه سوال یا پیشنهاد را در Issues ثبت کنید!** 